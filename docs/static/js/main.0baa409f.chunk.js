(this["webpackJsonpstudy-buddy"]=this["webpackJsonpstudy-buddy"]||[]).push([[0],{26:function(e,t,n){},27:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var i=n(1),o=n(0),r=n.n(o),u=n(12),s=n.n(u),a=(n(26),n.p+"static/media/logo.6ce24c58.svg"),c=(n(27),n(10)),d=n(13),g=n(9),l=n(3),p=n(14),b=n.n(p),f=n(2),h=n(8),j=n.n(h),m=n(18),y=function(){var e=Object(m.a)(j.a.mark((function e(t){var n,i,o,r,u,s,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.subjectId,i=t.examSpecId,o=t.topicIds,(r=new Headers).append("x-api-key","ia3NrJsgwehrf4WaYFJk62pWA8wUL0w5AlS2RRob"),r.append("Accept","application/json"),r.append("Content-Type","application/json"),u={subjectId:n,examSpecId:i,topicIds:o,returnResults:!0,questions:[]},console.log("inputBody:",u),s={method:"POST",headers:r,redirect:"follow",body:JSON.stringify(u)},e.next=10,fetch("https://cors-anywhere.herokuapp.com/https://bitesize.test.api.bbci.co.uk/quizzes",s);case 10:return a=e.sent,e.next=13,a.json();case 13:return c=e.sent,e.abrupt("return",c.nextQuestion);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(e){var t=new AudioContext,n=new Headers;n.append("x-api-key","iS1m7L8tLU6ch6Bv42jta2UrPhmmzUl835Cnj5YU"),n.append("Accept","audio/mpeg"),n.append("Content-Type","application/json"),fetch("https://cors-anywhere.herokuapp.com/https://7xbnbo3f67.execute-api.eu-west-1.amazonaws.com/test/text",{method:"POST",headers:n,redirect:"follow",body:'{"text":"'+e+'"}'}).then((function(e){return e.arrayBuffer()})).then((function(e){return t.decodeAudioData(e)})).then((function(e){!function(e){var n=t.createBufferSource();n.buffer=e,n.connect(t.destination),n.start()}(e)})).catch((function(e){return console.log("error",e)}))},v=n(20),z=n.n(v),O=n(19),Q=n.n(O),w=n.p+"static/media/bitesize-logo-transparent-background.3d173e7b.svg",S=n.p+"static/media/among-us-crew-member.807ca887.svg";function A(){var e=Object(l.a)(["\n  animation: gZmgDU 0.3s ease forwards;\n  cursor: pointer;\n  display: inline-block;\n  margin: 2px;\n  transform: scale(0);\n"]);return A=function(){return e},e}function G(){var e=Object(l.a)(["\n  margin: 2px 0 12px 0;\n  padding: 0 6px;\n  text-align: center;\n"]);return G=function(){return e},e}function k(){var e=Object(l.a)(["\n  background: #DD6713;\n  border: 0;\n  border-radius: 22px;\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.15);\n  color: #fff;\n  display: inline-block;\n  font-size: 14px;\n  padding: 12px;\n\n  &:hover {\n    opacity: 0.7;\n  }\n"]);return k=function(){return e},e}function I(){var e=Object(l.a)(["\n  color: #DD6713;\n  text-align: center;\n  display: block;\n  padding: 12px;\n  padding-top: 0;\n  text-decoration: underline;\n"]);return I=function(){return e},e}function C(){var e=Object(l.a)(["\n  color: #DD6713;\n  text-align: center;\n  padding: 12px;\n  padding-bottom: 0;\n"]);return C=function(){return e},e}function D(){var e=Object(l.a)(["\n  color: #bbb;\n  text-align: center;\n  padding: 12px;\n  padding-bottom: 0;\n"]);return D=function(){return e},e}function N(){var e=Object(l.a)(['\n  width: 100%;\n  height: 400px;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: #f00;\n  background-image: url("https://media2.giphy.com/media/3oz8xPJ7Uwbbee7E9a/giphy.gif");\n']);return N=function(){return e},e}function q(){var e=Object(l.a)(["\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #fff;\n  display: ",";\n"]);return q=function(){return e},e}var E,R="",T="",F="",Y="",H=0,P=0,W=0,B=[],M="",L=!1,U=!1,J=f.default.iframe(q(),(function(e){return e.hidden?"none":"block"})),Z=f.default.div(N()),_=f.default.h2(D()),K=f.default.h3(C()),V=f.default.a(I()),X=f.default.button(k()),$=f.default.ul(G()),ee=f.default.li(A()),te=function(e){var t=e.triggerNextStep,n=e.previousStep;return T=["z9ddmp3","zs6hvcw","zpm6fg8"][n.value-1],F=["z2synbk","z8xtmnb","zyvnxfr"][n.value-1],Y=["z22btv4","z34kgdm","zcp6qhv"][n.value-1],Object(o.useEffect)((function(){U="https://www.bbc.co.uk/bitesize/examspecs/".concat(F),E(),t({trigger:"GuideDoQuiz"})}),[]),null},ne=function(e){var t=e.triggerNextStep;return Object(o.useEffect)((function(){y({subjectId:T,examSpecId:F,topicIds:[Y]}).then((function(e){console.log(e.studyGuideId),U="https://www.bbc.co.uk/bitesize/guides/".concat(e.studyGuideId,"/revision/1"),E(),t({trigger:"QuizReady"})}))}),[]),null},ie=function(e){e.triggerNextStep;return Object(o.useEffect)((function(){U="https://www.bbc.co.uk/bitesize/collections/exams-and-revision/1",E()}),[]),null},oe=function(e){e.triggerNextStep;return Object(o.useEffect)((function(){U="https://www.bbc.co.uk/bitesize",E()}),[]),null},re=function(e){var t=e.previousStep;return R=t.label,T=["z9ddmp3","zs6hvcw","zpm6fg8"][t.value-1],F=["z2synbk","z8xtmnb","zyvnxfr"][t.value-1],Y=["z22btv4","z34kgdm","zcp6qhv"][t.value-1],null},ue=function(e){var t=e.previousStep;return Object(o.useEffect)((function(){H=t.value,P=0,W=0,0,B=[]}),[]),null},se=function(){return Object(o.useEffect)((function(){H=5,P=0,W=0,0,B=[]}),[]),null},ae=function(){return"Alright, ".concat(H," questions on ").concat(R,", got it. I'll put the study guide for each question on your screen. Ready?")},ce=function(){return Object(o.useEffect)((function(){P=0,W=0,0,B=[]}),[]),"Alright, ".concat(H," questions on ").concat(R,", got it. I'll put the study guide for each question on your screen. Ready?")},de=function(e){var t,n=e.triggerNextStep,r=Object(o.useState)(),u=Object(g.a)(r,2),s=u[0],a=u[1];return Object(o.useEffect)((function(){H!==P&&y({subjectId:T,examSpecId:F,topicIds:[Y]}).then((function(e){a(e),U="https://www.bbc.co.uk/bitesize/guides/".concat(e.studyGuideId,"/revision/1"),E()})),P>=H&&n({trigger:"QuizEnd"})}),[]),Object(o.useEffect)((function(){if(s&&H!==P){M=s.options.find((function(e){return e.isCorrect})).text;var e=["A","B","C"];t="".concat(s.text,". ").concat(s.options.reduce((function(t,n,i){return t+". ".concat(0===i?"Is it":""," ").concat(i===s.options.length-1?"Or":""," ").concat(e[i],". ").concat(n.text)}),""))}}),[s]),console.log("Progress: ",H,P),P>=H?null:s?Object(i.jsxs)("div",{children:[Object(i.jsx)(K,{children:s.text}),Object(i.jsx)(V,{onClick:function(){return x(t)},children:"Read this question to me"}),Object(i.jsx)($,{children:s.options.map((function(e){return Object(i.jsx)(ee,{children:Object(i.jsx)(X,{onClick:function(){return n({value:{studyGuideId:s.studyGuideId,topicId:s.topicId,id:s.id,isCorrect:e.isCorrect,timeSpent:4e3},trigger:e.isCorrect?"QuizQuestionCorrect":"QuizQuestionIncorrect"})},children:e.text})})}))})]}):Object(i.jsx)(_,{children:"..."})},ge=function(e){var t=e.triggerNextStep,n=e.previousStep;return Object(o.useEffect)((function(){P+=1,W+=1,B.push(n.value),t({trigger:"QuizQuestion"})}),[]),"Spot on!"},le=function(e){var t=e.triggerNextStep,n=e.previousStep;return Object(o.useEffect)((function(){P+=1,1,B.push(n.value),t({trigger:"QuizQuestion"})}),[]),"Not quite, the correct answer is ".concat(M)},pe=function(){return"And we're done! You got ".concat(W," out of ").concat(P," answers right!")},be=function(){return Object(o.useEffect)((function(){L=!0,E(),setTimeout((function(){L=!1,E()}),5e3)}),[]),Object(i.jsx)(Z,{})},fe={width:"400px",height:"600px",floating:!0,headerTitle:"Study Buddy"},he={background:"white",fontFamily:"Arial, Helvetica, sans-serif",headerBgColor:"#DD6713",headerFontColor:"#fff",headerFontSize:"15px",botBubbleColor:"#DD6713",botFontColor:"#fff",userBubbleColor:"#f8f8f8",userFontColor:"#000"},je=[{id:"GuideWhatAreYouStudying",message:"Got it, what are you studying?",trigger:"GuideWhatAreYouStudyingOptions"},{id:"GuideWhatAreYouStudyingOptions",options:[{value:1,label:"Biology",trigger:"GuideFound"},{value:2,label:"Chemistry",trigger:"GuideFound"},{value:3,label:"Physics",trigger:"GuideFound"}]},{id:"GuideFound",component:Object(i.jsx)(te,{}),waitAction:!0},{id:"GuideDoQuiz",message:"Great, here's our study guides, d'you want to do a couple of practice questions to help you revise?",trigger:"GuideDoQuizOptions"},{id:"GuideDoQuizOptions",options:[{value:1,label:"Yes",trigger:"GuideQuestionsYesAnswer"},{value:2,label:"No",trigger:"GuideQuestionsNoAnswer"}]},{id:"GuideQuestionsNoAnswer",message:"No worries, let me know if you need anything else!",delay:3e3,trigger:"GreetingWhatToDo"},{id:"GuideQuestionsYesAnswer",message:"Alright, we'll do 5 quick questions to get you warmed up. I'll put the guide for each question on your screen. Ready?",trigger:"GuideQuestionsSetParams"},{id:"GuideQuestionsSetParams",component:Object(i.jsx)(se,{}),trigger:"GuideQuestionsYesAnswerOptions"},{id:"GuideQuestionsYesAnswerOptions",options:[{value:1,label:"Let's go!",trigger:"QuizQuestion"}]}],me=[{id:"QuizWhatAreYouStudying",message:"Great, what are you studying?",trigger:"QuizWhatAreYouStudyingOptions"},{id:"QuizWhatAreYouStudyingOptions",options:[{value:1,label:"Biology",trigger:"QuizStoreTopic"},{value:2,label:"Chemistry",trigger:"QuizStoreTopic"},{value:3,label:"Physics",trigger:"QuizStoreTopic"}]},{id:"QuizStoreTopic",component:Object(i.jsx)(re,{}),trigger:"QuizHowManyQuestions"},{id:"QuizHowManyQuestions",message:"Perfect, how many questions should we do? ",trigger:"QuizHowManyQuestionsOptions"},{id:"QuizHowManyQuestionsOptions",options:[{value:3,label:"3",trigger:"QuizStoreQuestions"},{value:10,label:"10",trigger:"QuizStoreQuestions"},{value:20,label:"20",trigger:"QuizStoreQuestions"}]},{id:"QuizStoreQuestions",component:Object(i.jsx)(ue,{}),trigger:"QuizReady"},{id:"GuideFoundQuiz",component:Object(i.jsx)(ne,{}),waitAction:!0},{id:"QuizReady",component:Object(i.jsx)(ae,{}),asMessage:!0,trigger:"QuizReadyOptions"},{id:"QuizReadyAgain",component:Object(i.jsx)(ce,{}),asMessage:!0,trigger:"QuizReadyOptions"},{id:"QuizReadyOptions",options:[{value:1,label:"As I'll ever be!",trigger:"QuizQuestion"}]},{id:"QuizQuestion",component:Object(i.jsx)(de,{}),waitAction:!0},{id:"NextQuestion",message:"Next question:",delay:5e3,trigger:"QuizQuestion"},{id:"QuizQuestionCorrect",component:Object(i.jsx)(ge,{}),waitAction:!0,asMessage:!0,trigger:"NextQuestion"},{id:"QuizQuestionIncorrect",component:Object(i.jsx)(le,{}),waitAction:!0,asMessage:!0,trigger:"NextQuestion"},{id:"QuizEnd",component:Object(i.jsx)(pe,{}),asMessage:!0,trigger:"QuizCelebrate"},{id:"QuizCelebrate",options:[{value:1,label:"Celebrate",trigger:"QuizCelebratePlay"}]},{id:"QuizCelebratePlay",component:Object(i.jsx)(be,{}),trigger:"HowDidItGo"},{id:"HowDidItGo",message:"How d'you feel that quiz went?",trigger:"HowDidItGoOptions"},{id:"HowDidItGoOptions",options:[{value:1,label:"Great",trigger:"QuizGoAgain"},{value:2,label:"Not So Great",trigger:"DisplaySupport1"}]},{id:"DisplaySupport1",component:Object(i.jsx)(ie,{}),trigger:"DisplaySupport2"},{id:"DisplaySupport2",message:"Sorry to hear that. Here's our Exams and Revision support page, you might find something that'll help.",trigger:"QuizGoAgain"},{id:"QuizGoAgain",message:"Ready to go again?",trigger:"QuizGoAgainOptions"},{id:"QuizGoAgainOptions",options:[{value:1,label:"Hit me with some questions",trigger:"QuizReadyAgain"},{value:2,label:"Take me home",trigger:"GreetingWhatToDo"}]}],ye=[{id:"start",component:Object(i.jsx)(oe,{}),trigger:"Greeting"},{id:"Greeting",message:"Hi, I'm your study buddy. What do you want to do today?",trigger:"GreetingWhatToDo"},{id:"GreetingWhatToDo",options:[{value:1,label:"Find a study guide",trigger:"GuideWhatAreYouStudying"},{value:2,label:"Do a quiz",trigger:"QuizWhatAreYouStudying"}]}].concat(je,me),xe=function(e){Object(d.a)(e);var t=z()(),n=t.width,o=t.height,u=r.a.useState(),s=Object(g.a)(u,2)[1];return E=r.a.useCallback((function(){return s({})}),[]),Object(i.jsx)(f.ThemeProvider,{theme:he,children:Object(i.jsxs)(i.Fragment,{children:[U&&Object(i.jsx)(J,{src:U}),L&&Object(i.jsx)(Q.a,{width:n,height:o}),Object(i.jsx)(b.a,Object(c.a)(Object(c.a)({steps:ye},fe),{},{botAvatar:w,userAvatar:S,hideSubmitButton:!0,placeholder:""}))]})})};var ve=function(){return Object(i.jsxs)("div",{className:"App",children:[Object(i.jsxs)("header",{className:"App-header",children:[Object(i.jsx)("img",{src:a,className:"App-logo",alt:"logo"}),Object(i.jsxs)("p",{children:["Edit ",Object(i.jsx)("code",{children:"src/App.js"})," and save to reload."]}),Object(i.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:"Learn React"})]}),Object(i.jsx)(xe,{})]})},ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,r=t.getLCP,u=t.getTTFB;n(e),i(e),o(e),r(e),u(e)}))};s.a.render(Object(i.jsx)(r.a.StrictMode,{children:Object(i.jsx)(ve,{})}),document.getElementById("root")),ze()}},[[38,1,2]]]);
//# sourceMappingURL=main.0baa409f.chunk.js.map