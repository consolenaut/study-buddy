{"version":3,"sources":["logo.svg","utils/getQuestion.js","utils/readText.js","assets/svgs/bitesize-logo-transparent-background.svg","assets/svgs/among-us-crew-member.svg","ChatBot.jsx","App.js","reportWebVitals.js","index.js"],"names":["fetchAQuestion","a","subjectId","examSpecId","topicIds","myHeaders","Headers","append","inputBody","returnResults","questions","console","log","requestOptions","method","headers","redirect","body","JSON","stringify","fetch","response","json","parsedResponse","nextQuestion","fetchAndPlay","text","context","AudioContext","then","arrayBuffer","decodeAudioData","audioBuffer","source","createBufferSource","buffer","connect","destination","start","play","catch","error","forceRenderMain","quizSubjectText","quizSubjectId","quizSpecId","quizTopicId","quizNumberOfQuestions","quizAnsweredQuestions","quizAnsweredQuestionsCorrect","quizAnswers","quizCorrectAnswer","showConfetti","showStudyGuide","StyledIframe","styled","iframe","props","hidden","GifBackground","div","Loading","h2","StyledQuestion","h3","ReadToMeLink","StyledButton","button","StyledUL","ul","StyledLI","li","GuideFound","triggerNextStep","previousStep","value","useEffect","trigger","GuideFoundQuiz","studyGuideId","DisplaySupportPage","DisplayHomePage","StoreQuizSubject","label","QuizStoreQuestions","GuideQuizSettings","QuizReady","QuizReadyAgain","QuizQuestion","quizReadToMe","useState","question","setQuestion","options","find","option","isCorrect","qindex","reduce","acc","currentIndex","length","onClick","map","topicId","id","timeSpent","QuizQuestionCorrect","push","QuizQuestionIncorrect","QuizEnd","QuizCelebratePlay","setTimeout","chatbotConfig","width","height","floating","headerTitle","theme","background","fontFamily","headerBgColor","headerFontColor","headerFontSize","botBubbleColor","botFontColor","userBubbleColor","userFontColor","guideSteps","message","component","waitAction","delay","quizSteps","asMessage","steps","useWindowSize","React","updateState","useCallback","src","botAvatar","botImage","userAvatar","userImage","hideSubmitButton","placeholder","App","className","logo","alt","href","target","rel","ChatBot","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0baa409f.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","const QUIZ_API_KEY = \"ia3NrJsgwehrf4WaYFJk62pWA8wUL0w5AlS2RRob\";\n\nexport const fetchAQuestion = async ({ subjectId, examSpecId, topicIds }) => {\n\tvar myHeaders = new Headers();\n\tmyHeaders.append(\"x-api-key\", QUIZ_API_KEY);\n\tmyHeaders.append(\"Accept\", \"application/json\");\n\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\n\tvar inputBody = {\n    subjectId,\n    examSpecId,\n    topicIds,\n    returnResults: true,\n    questions: []\n  };\n\tconsole.log(\"inputBody:\",inputBody)\n\n\tvar requestOptions = {\n\t\tmethod: 'POST',\n\t\theaders: myHeaders,\n\t\tredirect: 'follow',\n\t\tbody: JSON.stringify(inputBody)\n\t};\n\n  const response = await fetch(\"https://cors-anywhere.herokuapp.com/https://bitesize.test.api.bbci.co.uk/quizzes\", requestOptions);\n  const parsedResponse = await response.json();\n  return parsedResponse.nextQuestion;\n}","const beeb_api_key = \"iS1m7L8tLU6ch6Bv42jta2UrPhmmzUl835Cnj5YU\";\n\nexport const fetchAndPlay = text => {\n  const context = new AudioContext();\n\n  const play = audioBuffer => {\n    const source = context.createBufferSource();\n    source.buffer = audioBuffer;\n    source.connect(context.destination);\n    source.start();\n  }\n\n\tvar myHeaders = new Headers();\n\tmyHeaders.append(\"x-api-key\", beeb_api_key);\n\tmyHeaders.append(\"Accept\", \"audio/mpeg\");\n\tmyHeaders.append(\"Content-Type\", \"application/json\");\n\n\tvar inputBody = '{\"text\":\"'+ text + '\"}';\n\n\tvar requestOptions = {\n\t\tmethod: 'POST',\n\t\theaders: myHeaders,\n\t\tredirect: 'follow',\n\t\tbody: inputBody\n\t};\n\n\tfetch(\"https://cors-anywhere.herokuapp.com/https://7xbnbo3f67.execute-api.eu-west-1.amazonaws.com/test/text\", requestOptions)\n\t\t.then(response => response.arrayBuffer())\n\t\t.then(arrayBuffer => context.decodeAudioData(arrayBuffer))\n\t\t.then(audioBuffer => {\n      play(audioBuffer)\n    })\n\t\t.catch(error => console.log('error', error));\n}","export default __webpack_public_path__ + \"static/media/bitesize-logo-transparent-background.3d173e7b.svg\";","export default __webpack_public_path__ + \"static/media/among-us-crew-member.807ca887.svg\";","import React, { useEffect, useState } from \"react\";\nimport ChatBot from \"react-simple-chatbot\";\nimport styled, { ThemeProvider } from \"styled-components\";\nimport { fetchAQuestion } from \"./utils/getQuestion\";\nimport { fetchAndPlay } from \"./utils/readText\";\n\nimport useWindowSize from 'react-use/lib/useWindowSize'\nimport Confetti from 'react-confetti'\nimport botImage from './assets/svgs/bitesize-logo-transparent-background.svg'\nimport userImage from './assets/svgs/among-us-crew-member.svg'\n\n\nlet quizSubjectText = '';\nlet quizSubjectId = '';\nlet quizSpecId = '';\nlet quizTopicId = '';\nlet guideSubjectId = '';\nlet guideSpecId = '';\nlet guideTopicId = '';\nlet quizNumberOfQuestions = 0;\nlet quizAnsweredQuestions = 0;\nlet quizAnsweredQuestionsIncorrect = 0;\nlet quizAnsweredQuestionsCorrect = 0;\nlet quizAnswers = [];\nlet quizCorrectAnswer = '';\nlet showConfetti = false;\nlet showStudyGuide = false;\nlet forceRenderMain;\n\nconst StyledIframe = styled.iframe`\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: #fff;\n  display: ${(props) => props.hidden ? 'none' : 'block'};\n`\nconst GifBackground = styled.div`\n  width: 100%;\n  height: 400px;\n  background-size: cover;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-color: #f00;\n  background-image: url(\"https://media2.giphy.com/media/3oz8xPJ7Uwbbee7E9a/giphy.gif\");\n`;\n\nconst Loading = styled.h2`\n  color: #bbb;\n  text-align: center;\n  padding: 12px;\n  padding-bottom: 0;\n`;\n\nconst StyledQuestion = styled.h3`\n  color: #DD6713;\n  text-align: center;\n  padding: 12px;\n  padding-bottom: 0;\n`;\n\nconst ReadToMeLink = styled.a`\n  color: #DD6713;\n  text-align: center;\n  display: block;\n  padding: 12px;\n  padding-top: 0;\n  text-decoration: underline;\n`;\n\nconst StyledButton = styled.button`\n  background: #DD6713;\n  border: 0;\n  border-radius: 22px;\n  box-shadow: 0 1px 2px 0 rgba(0,0,0,0.15);\n  color: #fff;\n  display: inline-block;\n  font-size: 14px;\n  padding: 12px;\n\n  &:hover {\n    opacity: 0.7;\n  }\n`;\n\nconst StyledUL = styled.ul`\n  margin: 2px 0 12px 0;\n  padding: 0 6px;\n  text-align: center;\n`;\n\nconst StyledLI = styled.li`\n  animation: gZmgDU 0.3s ease forwards;\n  cursor: pointer;\n  display: inline-block;\n  margin: 2px;\n  transform: scale(0);\n`;\n\nconst GuideFound = ({ triggerNextStep, previousStep }) => {\n  // 1 = bio, 2 = chem, 3 = phys\n  const idToSubjectId = [\"z9ddmp3\", \"zs6hvcw\", \"zpm6fg8\"];\n  const idToSpecId = [\"z2synbk\", \"z8xtmnb\", \"zyvnxfr\"];\n  const idToTopicId = [\"z22btv4\", \"z34kgdm\", \"zcp6qhv\"];\n  quizSubjectId = idToSubjectId[previousStep.value - 1];\n  quizSpecId = idToSpecId[previousStep.value - 1];\n  quizTopicId = idToTopicId[previousStep.value - 1];\n  useEffect(() => {\n    //fetchAQuestion({ subjectId: guideSubjectId, examSpecId: guideSpecId, topicIds: [guideTopicId] }).then(response => {\n      //console.log(response.studyGuideId);\n      showStudyGuide = `https://www.bbc.co.uk/bitesize/examspecs/${quizSpecId}`;\n      forceRenderMain();\n      triggerNextStep({ trigger: \"GuideDoQuiz\" });\n    //})\n  }, []);\n  return null;\n}\n\nconst GuideFoundQuiz = ({ triggerNextStep }) => {\n  useEffect(() => {\n    fetchAQuestion({ subjectId: quizSubjectId, examSpecId: quizSpecId, topicIds: [quizTopicId] }).then(response => {\n      console.log(response.studyGuideId);\n      showStudyGuide = `https://www.bbc.co.uk/bitesize/guides/${response.studyGuideId}/revision/1`;\n      forceRenderMain();\n      triggerNextStep({ trigger: \"QuizReady\" });\n    })\n  }, []);\n  return null;\n}\n\nconst GuideQuestionsComp = () => {\n  useEffect(() => {\n    quizNumberOfQuestions = 5;\n    quizAnsweredQuestions = 0;\n    quizAnsweredQuestionsCorrect = 0;\n    quizAnsweredQuestionsIncorrect = 0;\n    quizAnswers = [];\n    quizSubjectId = guideSubjectId;\n    quizSpecId = guideSpecId;\n    quizTopicId = guideTopicId;\n  }, []);\n  return `Alright, we\\'ll do 5 quick questions to get you warmed up, ready?`;\n}\n\nconst DisplaySupportPage = ({ triggerNextStep }) => {\n  useEffect(() => {\n    showStudyGuide = `https://www.bbc.co.uk/bitesize/collections/exams-and-revision/1`;\n    forceRenderMain();\n    //triggerNextStep({ trigger: \"QuizGoAgain\" });\n  }, []);\n  return null;\n}\n\nconst DisplayHomePage = ({ triggerNextStep }) => {\n  useEffect(() => {\n    showStudyGuide = `https://www.bbc.co.uk/bitesize`;\n    forceRenderMain();\n    //triggerNextStep({ trigger: \"QuizGoAgain\" });\n  }, []);\n  return null;\n}\n\nconst StoreQuizSubject = ({ previousStep }) => {\n  // 1 = bio, 2 = chem, 3 = phys\n  const idToSubjectId = [\"z9ddmp3\", \"zs6hvcw\", \"zpm6fg8\"];\n  const idToSpecId = [\"z2synbk\", \"z8xtmnb\", \"zyvnxfr\"];\n  const idToTopicId = [\"z22btv4\", \"z34kgdm\", \"zcp6qhv\"];\n  quizSubjectText = previousStep.label;\n  quizSubjectId = idToSubjectId[previousStep.value - 1];\n  quizSpecId = idToSpecId[previousStep.value - 1];\n  quizTopicId = idToTopicId[previousStep.value - 1];\n  return null;\n}\n\nconst QuizStoreQuestions = ({ previousStep }) => {\n  useEffect(() => {\n    quizNumberOfQuestions = previousStep.value;\n    quizAnsweredQuestions = 0;\n    quizAnsweredQuestionsCorrect = 0;\n    quizAnsweredQuestionsIncorrect = 0;\n    quizAnswers = [];\n  }, []);\n  return null;\n}\n\nconst GuideQuizSettings = () => {\n  useEffect(() => {\n    quizNumberOfQuestions = 5;\n    quizAnsweredQuestions = 0;\n    quizAnsweredQuestionsCorrect = 0;\n    quizAnsweredQuestionsIncorrect = 0;\n    quizAnswers = [];\n  }, []);\n  return null;\n}\n\nconst QuizReady = () => {\n  return `Alright, ${quizNumberOfQuestions} questions on ${quizSubjectText}, got it. I'll put the study guide for each question on your screen. Ready?`;\n}\n\nconst QuizReadyAgain = () => {\n  useEffect(() => {\n    quizAnsweredQuestions = 0;\n    quizAnsweredQuestionsCorrect = 0;\n    quizAnsweredQuestionsIncorrect = 0;\n    quizAnswers = [];\n  }, []);\n  return `Alright, ${quizNumberOfQuestions} questions on ${quizSubjectText}, got it. I'll put the study guide for each question on your screen. Ready?`;\n}\n\nconst QuizQuestion = ({ triggerNextStep }) => {\n  let quizReadToMe;\n  const [question, setQuestion] = useState();\n  useEffect(() => {\n    if (quizNumberOfQuestions !== quizAnsweredQuestions) {\n      fetchAQuestion({ subjectId: quizSubjectId, examSpecId: quizSpecId, topicIds: [quizTopicId] }).then(response => {\n        setQuestion(response);\n        showStudyGuide = `https://www.bbc.co.uk/bitesize/guides/${response.studyGuideId}/revision/1`;\n        forceRenderMain();\n      })\n    }\n    if (quizAnsweredQuestions >= quizNumberOfQuestions) { triggerNextStep({ trigger: \"QuizEnd\" }) }\n  }, []);\n  useEffect(() => {\n    if (question && quizNumberOfQuestions !== quizAnsweredQuestions) {\n      quizCorrectAnswer = question.options.find(option => option.isCorrect).text;\n      const qindex = [\"A\", \"B\", \"C\"];\n      quizReadToMe = `${question.text}. ${question.options.reduce((acc, option, currentIndex) => acc + `. ${currentIndex === 0 ? 'Is it' : ''} ${currentIndex === question.options.length-1 ? 'Or' : ''} ${qindex[currentIndex]}. ${option.text}`, '')}`;\n    }\n  }, [question]);\n\n  console.log(\"Progress: \", quizNumberOfQuestions, quizAnsweredQuestions)\n  if (quizAnsweredQuestions >= quizNumberOfQuestions) return null\n  if (question) return (\n    <div>\n      <StyledQuestion>{question.text}</StyledQuestion>\n      <ReadToMeLink onClick={() => fetchAndPlay(quizReadToMe)}>Read this question to me</ReadToMeLink>\n      <StyledUL>\n        {question.options.map(option => (\n          <StyledLI>\n            <StyledButton onClick={() => triggerNextStep({\n              value: { studyGuideId: question.studyGuideId, topicId: question.topicId, id: question.id, isCorrect: option.isCorrect, timeSpent: 4000 },\n              trigger: option.isCorrect ? 'QuizQuestionCorrect' : 'QuizQuestionIncorrect'\n            })}>\n              {option.text}\n            </StyledButton>\n          </StyledLI>\n        ))}\n      </StyledUL>\n    </div>\n  );\n  return <Loading>...</Loading>;\n}\n\nconst QuizQuestionCorrect = ({ triggerNextStep, previousStep }) => {\n  useEffect(() => {\n    quizAnsweredQuestions = quizAnsweredQuestions+1;\n    quizAnsweredQuestionsCorrect = quizAnsweredQuestionsCorrect+1;\n    quizAnswers.push(previousStep.value);\n    triggerNextStep({ trigger: \"QuizQuestion\" });\n  }, []);\n  return `Spot on!`;\n}\n\nconst QuizQuestionIncorrect = ({ triggerNextStep, previousStep }) => {\n  useEffect(() => {\n    quizAnsweredQuestions = quizAnsweredQuestions+1;\n    quizAnsweredQuestionsIncorrect = quizAnsweredQuestionsIncorrect+1;\n    quizAnswers.push(previousStep.value);\n    triggerNextStep({ trigger: \"QuizQuestion\" });\n  }, []);\n  return `Not quite, the correct answer is ${quizCorrectAnswer}`;\n}\n\nconst QuizEnd = () => {\n  return `And we're done! You got ${quizAnsweredQuestionsCorrect} out of ${quizAnsweredQuestions} answers right!`;\n}\n\nconst QuizCelebratePlay = () => {\n  useEffect(() => {\n    showConfetti = true;\n    forceRenderMain();\n    setTimeout(() => { showConfetti = false; forceRenderMain(); }, 5000);\n  }, []);\n  return <GifBackground />\n}\n\nconst chatbotConfig = {\n  width: \"400px\",\n  height: \"600px\",\n  floating: true,\n  headerTitle: \"Study Buddy\"\n};\n\nconst theme = {\n  background: \"white\",\n  fontFamily: \"Arial, Helvetica, sans-serif\",\n  headerBgColor: \"#DD6713\",\n  headerFontColor: \"#fff\",\n  headerFontSize: \"15px\",\n  botBubbleColor: \"#DD6713\",\n  botFontColor: \"#fff\",\n  userBubbleColor: \"#f8f8f8\",\n  userFontColor: \"#000\"\n};\n\nconst guideSteps = [\n  {\n    id: 'GuideWhatAreYouStudying',\n    message: 'Got it, what are you studying?',\n    trigger: 'GuideWhatAreYouStudyingOptions',\n  },\n  {\n    id: 'GuideWhatAreYouStudyingOptions',\n    options: [\n      { value: 1, label: 'Biology', trigger: 'GuideFound' },\n      { value: 2, label: 'Chemistry', trigger: 'GuideFound' },\n      { value: 3, label: 'Physics', trigger: 'GuideFound' },\n    ],\n  },\n  {\n    id: 'GuideFound',\n    component: <GuideFound />,\n    waitAction: true,\n  },\n  {\n    id: 'GuideDoQuiz',\n    message: 'Great, here\\'s our study guides, d\\'you want to do a couple of practice questions to help you revise?',\n    trigger: 'GuideDoQuizOptions',\n  },\n  {\n    id: 'GuideDoQuizOptions',\n    options: [\n      { value: 1, label: 'Yes', trigger: 'GuideQuestionsYesAnswer' },\n      { value: 2, label: 'No', trigger: 'GuideQuestionsNoAnswer' }\n    ],\n  },\n  {\n    id: 'GuideQuestionsNoAnswer',\n    message: 'No worries, let me know if you need anything else!',\n    delay: 3000,\n    trigger: 'GreetingWhatToDo',\n  },\n  {\n    id: 'GuideQuestionsYesAnswer',\n    message: 'Alright, we\\'ll do 5 quick questions to get you warmed up. I\\'ll put the guide for each question on your screen. Ready?',\n    trigger: 'GuideQuestionsSetParams',\n  },\n  {\n    id: 'GuideQuestionsSetParams',\n    component: <GuideQuizSettings />,\n    //waitAction: true,\n    trigger: 'GuideQuestionsYesAnswerOptions'\n  },\n  {\n    id: 'GuideQuestionsYesAnswerOptions',\n    options: [\n      { value: 1, label: 'Let\\'s go!', trigger: 'QuizQuestion' },\n    ],\n  },\n]\n\nconst quizSteps = [\n  {\n    id: 'QuizWhatAreYouStudying',\n    message: 'Great, what are you studying?',\n    trigger: 'QuizWhatAreYouStudyingOptions',\n  },\n  {\n    id: 'QuizWhatAreYouStudyingOptions',\n    options: [\n      { value: 1, label: 'Biology', trigger: 'QuizStoreTopic' },\n      { value: 2, label: 'Chemistry', trigger: 'QuizStoreTopic' },\n      { value: 3, label: 'Physics', trigger: 'QuizStoreTopic' },\n    ],\n  },\n  {\n    id: 'QuizStoreTopic',\n    component: <StoreQuizSubject />,\n    trigger: 'QuizHowManyQuestions',\n  },\n  {\n    id: 'QuizHowManyQuestions',\n    message: 'Perfect, how many questions should we do? ',\n    trigger: 'QuizHowManyQuestionsOptions'\n  },\n  {\n    id: 'QuizHowManyQuestionsOptions',\n    options: [\n      { value: 3, label: '3', trigger: 'QuizStoreQuestions' },\n      { value: 10, label: '10', trigger: 'QuizStoreQuestions' },\n      { value: 20, label: '20', trigger: 'QuizStoreQuestions' },\n    ],\n  },\n\n  {\n    id: 'QuizStoreQuestions',\n    component: <QuizStoreQuestions />,\n    trigger: 'QuizReady',\n  },\n  {\n    id: 'GuideFoundQuiz',\n    component: <GuideFoundQuiz />,\n    waitAction: true,\n  },\n  {\n    id: 'QuizReady',\n    component: <QuizReady />,\n    asMessage: true,\n    trigger: 'QuizReadyOptions',\n  },\n  {\n    id: 'QuizReadyAgain',\n    component: <QuizReadyAgain />,\n    asMessage: true,\n    trigger: 'QuizReadyOptions',\n  },\n  {\n    id: 'QuizReadyOptions',\n    options: [\n      { value: 1, label: 'As I\\'ll ever be!', trigger: 'QuizQuestion' },\n    ],\n  },\n  {\n    id: 'QuizQuestion',\n    component: <QuizQuestion />,\n    waitAction: true,\n  },\n  {\n    id: 'NextQuestion',\n    message: \"Next question:\",\n    delay: 5000,\n    trigger: 'QuizQuestion',\n  },\n  {\n    id: 'QuizQuestionCorrect',\n    component: <QuizQuestionCorrect />,\n    waitAction: true,\n    asMessage: true,\n    trigger: 'NextQuestion',\n  },\n  {\n    id: 'QuizQuestionIncorrect',\n    component: <QuizQuestionIncorrect />,\n    waitAction: true,\n    asMessage: true,\n    trigger: 'NextQuestion',\n  },\n\n  {\n    id: 'QuizEnd',\n    component: <QuizEnd />,\n    asMessage: true,\n    trigger: 'QuizCelebrate',\n  },\n  {\n    id: 'QuizCelebrate',\n    options: [\n      { value: 1, label: 'Celebrate', trigger: 'QuizCelebratePlay' },\n    ],\n  },\n  {\n    id: 'QuizCelebratePlay',\n    component: <QuizCelebratePlay />,\n    trigger: 'HowDidItGo',\n  },\n  {\n    id: 'HowDidItGo',\n    message: 'How d\\'you feel that quiz went?',\n    trigger: 'HowDidItGoOptions',\n  },\n  {\n    id: 'HowDidItGoOptions',\n    options: [\n      { value: 1, label: 'Great', trigger: 'QuizGoAgain' },\n      { value: 2, label: 'Not So Great', trigger: 'DisplaySupport1' },\n    ],\n  },\n  {\n    id: 'DisplaySupport1',\n    component: <DisplaySupportPage />,\n    trigger: 'DisplaySupport2',\n  },\n  {\n    id: 'DisplaySupport2',\n    message: 'Sorry to hear that. Here\\'s our Exams and Revision support page, you might find something that\\'ll help.',\n    trigger: 'QuizGoAgain',\n  },\n  {\n    id: 'QuizGoAgain',\n    message: 'Ready to go again?',\n    trigger: 'QuizGoAgainOptions',\n  },\n  {\n    id: 'QuizGoAgainOptions',\n    options: [\n      { value: 1, label: 'Hit me with some questions', trigger: 'QuizReadyAgain' },\n      { value: 2, label: 'Take me home', trigger: 'GreetingWhatToDo' },\n    ],\n  },\n]\n\nconst steps = [\n  {\n    id: 'start',\n    component: <DisplayHomePage />,\n    trigger: 'Greeting',\n  },\n  {\n    id: 'Greeting',\n    message: 'Hi, I\\'m your study buddy. What do you want to do today?',\n    trigger: 'GreetingWhatToDo',\n  },\n  {\n    id: 'GreetingWhatToDo',\n    options: [\n      { value: 1, label: 'Find a study guide', trigger: 'GuideWhatAreYouStudying' },\n      { value: 2, label: 'Do a quiz', trigger: 'QuizWhatAreYouStudying' },\n    ],\n  },\n  ...guideSteps,\n  ...quizSteps,\n];\n\nexport default ({}) => {\n  const { width, height } = useWindowSize();\n  const [, updateState] = React.useState();\n  forceRenderMain = React.useCallback(() => updateState({}), []);;\n  return (\n    <ThemeProvider theme={theme}>\n      <>\n        { showStudyGuide && <StyledIframe src={showStudyGuide}></StyledIframe> }\n        { showConfetti && (\n          <Confetti\n            width={width}\n            height={height}\n          />\n        )}\n        <ChatBot steps={steps} {...chatbotConfig} botAvatar={botImage} userAvatar={userImage} hideSubmitButton={true} placeholder={\"\"}/>\n      </>\n    </ThemeProvider>\n  )\n}\n","import logo from './logo.svg';\nimport './App.css';\n\nimport ChatBot from './ChatBot';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\n        <p>\n          Edit <code>src/App.js</code> and save to reload.\n        </p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Learn React\n        </a>\n      </header>\n      <ChatBot />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}